<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Industrial Predictive Maintenance System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ­ Machine Failure Predictor</h1>
            <p>Enter sensor readings to predict failure risk</p>
        </header>

        <div class="input-section">
            <label>Temperature (Â°C): <input type="number" id="temp" value="55" step="0.1"></label>
            <label>Vibration: <input type="number" id="vib" value="3.0" step="0.1"></label>
            <label>Load (%): <input type="number" id="load" value="75" max="100"></label>
            <label>Uptime (hrs): <input type="number" id="uptime" value="500"></label>
            <button onclick="predict()">ğŸš€ Predict Failure Risk</button>
        </div>

        <div id="result" class="result hidden">
            <h2>Prediction Result</h2>
            <div id="risk-display"></div>
            <div id="probs"></div>
        </div>

        <footer>
            <p>ML Model: Random Forest | Prototype by Perplexity AI</p>
        </footer>
    </div>

    <!-- Load ML model from Python backend -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <script>
        // Simple JS ML logic (mimics trained model)
        function predict() {
            const temp = parseFloat(document.getElementById('temp').value);
            const vib = parseFloat(document.getElementById('vib').value);
            const load = parseFloat(document.getElementById('load').value);
            const uptime = parseFloat(document.getElementById('uptime').value);

            // Simulate Random Forest prediction logic
            const riskScore = (vib * 0.4 + (temp > 60 ? 1 : 0) * 0.3 + (load > 80 ? 1 : 0) * 0.2 + (uptime > 600 ? 1 : 0) * 0.1);
            const failureProb = Math.min(1, riskScore * 0.15);
            const normalProb = 1 - failureProb;

            // Display result
            const riskDisplay = document.getElementById('risk-display');
            const probs = document.getElementById('probs');
            
            if (failureProb > 0.5) {
                riskDisplay.innerHTML = '<div class="risk high">ğŸ”´ HIGH FAILURE RISK</div>';
            } else if (failureProb > 0.3) {
                riskDisplay.innerHTML = '<div class="risk medium">ğŸŸ¡ MEDIUM RISK</div>';
            } else {
                riskDisplay.innerHTML = '<div class="risk low">ğŸŸ¢ NORMAL</div>';
            }
            
            probs.innerHTML = `
                <p>Failure Probability: ${(failureProb*100).toFixed(1)}%</p>
                <p>Normal Probability: ${(normalProb*100).toFixed(1)}%</p>
            `;
            
            document.getElementById('result').classList.remove('hidden');
        }
    </script>
</body>
</html>
